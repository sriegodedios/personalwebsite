{% extends 'users/base/base.html' %}
{% load static %}
{% load  bootstrap4 %}
{% load widget_tweaks %}


{% block content %}
<div class="card">
<div class="card-body">
<div class="row">
<div class="col-sm-5">
  <h4 class="card-title mb-0">Profile Information</h4>
  <div class="small text-muted">November 2017</div>



  </div>

</div>
<div class="row">
  <div class="col-sm-3">


      <img src="{{picture}}" style="width: 220px; height: 220px" alt="..." class="img-thumbnail">


      <button type="button" class="btn btn-outline-primary btn-lg btn-block" data-toggle="modal" data-target="#exampleModal">
          Update Picture
      </button>

<form action="../../users/pictures/submit" enctype="multipart/form-data" method="post">
    {% csrf_token %}

      <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <!--div class="col-sm-12"-->
                <style>
                #customFile .custom-file-control:lang(en)::after {
                content: " Select file...";
                }

                </style>
              <label class="custom-file form-control" id="customFile">

                {% render_field pictureform.picture type="file" class="custom-file-input form-control" id="exampleInputFile" aria-describedby="fileHelp" %}
                 <span class="custom-file-control form-control-file"></span>
              </label>
            <!--/div-->


</div>




            <script
              src="https://code.jquery.com/jquery-3.3.1.js"
              integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
              crossorigin="anonymous"></script>
            <script>
            /* show file value after file select */
            $('.custom-file-input').on('change',function(){
              $(this).next('.form-control-file').addClass("selected").html($(this).val());
            })

            </script>

            <div class="modal-footer">

              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
              <button type="submit" class="btn btn-primary">Upload Photo</button>
            </div>
          </div>
        </div>
      </div>

    </form>

</div>
  <div class="col-sm-9">
    <div class="card">
      <h5 class="card-header">
        {{user.first_name}} {{user.last_name}}
      </h5>
      <div class="card-body">
        <ul class="nav nav-tabs">
        <li class="nav-item">
          <a class="nav-link active" data-toggle="tab" href="#home">General</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" data-toggle="tab" href="#menu1">Account</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" data-toggle="tab" href="#menu2">Address Information</a>
        </li>
      </ul>
      <div class="tab-content">
        <div class="tab-pane container active" id="home">
          <div class="form-group">
            <label for="exampleFormControlInput1">Username</label>
            <input type="text" value="{{user.username}}" class="form-control" id="exampleFormControlInput1" placeholder="name@example.com" disabled>
          </div>
          <div class="form-group">
            <label for="exampleFormControlInput1">Email</label>
            <input type="text" value="{{user.email}}" class="form-control" id="exampleFormControlInput1" placeholder="name@example.com" disabled>
          </div>

        </div>
        <div class="tab-pane container fade" id="menu1">
          <label>Access Password Reset:</label>
          <a href="/users/password/change-password/" class="btn btn-info">Password Reset</a>




        </div>
        <div class="tab-pane container fade" id="menu2">
          <div class="row">
            <div class="col-sm-2">
                <h6>Address:</h6>
            </div>
            <div class="col-sm-4">
            {% if address %}

              {{address.address_1}}
              <br/>
              {{address.city}}, {{address.state}} {{address.zip}}




            {% endif %}
          </div>
          <div class="col-sm-6">
            <a href="../signup" class="btn btn-outline-primary btn-lg btn-block" role="button" aria-pressed="true">Update Address</a>


          </div>



        </div>
      </div>



        </div>

      </div>
      </div>
      </div>




{% endblock %}
